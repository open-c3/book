# 版本说明

open-c3根据git中的branch进行管理版本，C3版本包含三个数字。

版本格式为：v.第一个组数字.第二组数字.第三组数字 如：v1.0.0

数字含义：
```
第一个组数字：目前发布的主版本。有比较打的更改。
第二个组数字：偶数表示稳定版本；奇数表示开发中版本。
第三个组数字：错误修补的次数。
```

每一次版本的变化可能涉及到数据库表结构的更改或者操作，除了切换到分支外，需要对应做相应的操作。

注： 只能按照下面持续进行依次升级，不可以跳过版本升级。

# v1.0.0 -> v.2.0.0

本次升级，所以的数据库名都会加上前缀。需要重新生产数据库表，导数据，清理旧数据。

## 停服务

停止c3服务。

## 切换分支

切换分支到v.2.0.0

## 导入新的数据库表结构(不能多次升级，否则可能会丢失数据)
```
./Installer/upgrade/v2.0.0/update.sh
```

## 启服务

重新启动c3服务。

## 观察7天后没问题清理旧数据

为了保证当前正在执行的任务能正常执行，请延后清理旧数据。

```
./Installer/upgrade/v2.0.0/clean.sh
```

# v2.0.0 -> v.2.1.0

影响代理的继承功能
```
use agent;
ALTER TABLE openc3_agent_inherit  MODIFY COLUMN inheritid VARCHAR(100) COMMENT 'inheritid';
```